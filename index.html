<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="/logo.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traversen-Anschlag Tool</title>
    <link rel="stylesheet" href="./style.css"> 
</head>
<body>
<body>
    <div id="app-layout-wrapper"> 

        <div id="info-panel">
            <header>
                <h1>Traversen-Anschlag Tool</h1>
                <p>Platzieren Sie Deckenanker (blau), Traversen-Aufhängepunkte (rot) und Lastpunkte (grün) und sehen Sie die resultierenden Kräfte.</p>
            </header>
            
            <section class="input-section">
                <div class="input-group">
                    <h3>Punkte verwalten</h3>
                    <div class="controls-row">
                        <button id="add-ceiling-anchor" class="button-primary">Deckenanker hinzufügen</button>
                        <button id="remove-ceiling-anchor" class="button-secondary">Letzten Deckenanker entfernen</button>
                    </div>
                    <div class="controls-row" style="margin-top: 10px;">
                        <button id="add-traverse-attach-point" class="button-primary">Traversen-Aufhängepunkt hinzufügen</button>
                        <button id="remove-traverse-attach-point" class="button-secondary">Letzten Aufhängepunkt entfernen</button>
                    </div>
                    <div class="controls-row" style="margin-top: 10px;">
                        <button id="add-load-point" class="button-primary">Lastpunkt hinzufügen</button>
                        <button id="remove-load-point" class="button-secondary">Letzten Lastpunkt entfernen</button>
                    </div>
                    <p style="font-size: 0.8em; margin-top: 5px;">* Ziehen Sie die Punkte in der 3D-Ansicht oder bearbeiten Sie sie in der rechten Leiste.</p>
                </div>
            </section>
            
            <section class="input-section">
                <div class="input-group">
                    <h3>Last</h3>
                    <div class="coordinates">
                        <label for="load-mass">Zusätzliche Masse auf Traverse:</label>
                        <input type="number" id="load-mass" value="100" step="10"> kg
                    </div>
                    <p style="font-size: 0.8em; margin-top: 5px;">* Eigengewicht der Traverse wird automatisch berücksichtigt.</p>
                </div>
            </section>
            
            <section class="results-section">
                <h3>Ergebnisse</h3>
                <p>Gesamte vertikale Last auf Traverse (inkl. Eigengewicht): <strong id="total-traverse-load">0.00 N</strong></p>
                
                <h4 style="margin-top: 20px;">Kräfte & Winkel pro Seil:</h4>
                <div id="forces-output">
                    <!-- Dynamische Ausgabe hier -->
                </div>
            </section>
            
            <footer>
                <button id="reset-button" class="button-secondary">Alle Punkte zurücksetzen</button>
                <div class="app-footer">
                    <p>&copy; 2025 SwissDaVinci.io. Alle Rechte vorbehalten.</p>
                    <nav>
                        <a href="impressum.html">Impressum</a>
                    </nav>
                </div>
            </footer>
        </div>
        
        <div id="three-container"></div>

        <!-- RECHTE SIDEBAR (NEU) -->
        <div id="right-sidebar" class="sidebar-closed">
            <button id="sidebar-toggle" class="sidebar-toggle-button">▶</button>
            <div class="sidebar-content">
                <h3>Punkte bearbeiten</h3>
                <div class="point-category">
                    <h4>Deckenanker</h4>
                    <div id="ceiling-anchors-list"></div>
                </div>
                <div class="point-category">
                    <h4>Traversen-Aufhängepunkte</h4>
                    <div id="traverse-attach-points-list"></div>
                </div>
                <div class="point-category">
                    <h4>Lastpunkte</h4>
                    <div id="load-points-list"></div>
                </div>
            </div>
        </div>

    </div> 
    <script type="module" src="/app.js"></script>
</body>
</html>